---
import BaseLayout from './BaseLayout.astro'
import Donate from '../components/Donate.astro'
import TOC from '../components/TOC.astro'
import dayjs from 'dayjs'
import config from '../config'
import '../style/markdown.scss'
const { frontmatter, headings } = Astro.props
import Home from '../layouts/Home.astro'
---

<BaseLayout
  title={`${frontmatter.title} | ${config.title}`}
  ogType="article"
  ogDescription={frontmatter.ogDescription}
  ogImage={frontmatter.ogImage}
>
  <Home title="素履以往">
    <div class="markdown-body" style="max-width:68ch">
      <h1>{frontmatter.title}</h1>
      <div class="text-slate-500"></div>
      <div class="text-slate-500">
        <span class="categories">
          <i class="iconfont icon-clock-outlined"></i>
          {dayjs(frontmatter.date).format('YYYY/MM/DD')}
          <span style="margin-left:15px">
            <i class="iconfont icon-category"></i>
            {frontmatter.categories}</span
          >
        </span>
      </div>
      <slot />
      <hr />
      <div>
        <Donate />
      </div>
    </div>
    <div slot="catalogue"><TOC headings={headings} frontmatter={frontmatter} /></div>
  </Home>
</BaseLayout>
