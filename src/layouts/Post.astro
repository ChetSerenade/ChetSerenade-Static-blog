---
import BaseLayout from './BaseLayout.astro'
import Donate from '../components/Donate.astro'
import TOC from '../components/TOC.astro'
import dayjs from 'dayjs'
import config from '../config'
import '../style/markdown.scss'
import Home from '../layouts/Home.astro'

const { frontmatter, headings } = Astro.props
---

<BaseLayout
  title={`${frontmatter.title} | ${config.title}`}
  ogType="article"
  ogDescription={frontmatter.ogDescription}
  ogImage={frontmatter.ogImage}
>
  <Home title="素履以往">
    <div id="markdown-body" class="markdown-body markdown-width">
      <h1>{frontmatter.title}</h1>
      <div class="text-slate-500"></div>
      <div class="text-slate-500">
        <span class="categories">
          <i class="iconfont icon-clock-outlined"></i>
          <span style="margin-left:5px">{dayjs(frontmatter.date).format('YYYY/MM/DD')}</span>
          <span style="margin-left:15px">
            <i class="iconfont icon-category"></i>
            <span style="margin-left:5px">{frontmatter.categories}</span></span
          >
        </span>
      </div>
      <slot />
      <hr />
      <div>
        <Donate />
      </div>
    </div>
    <div slot="catalogue"><TOC headings={headings} frontmatter={frontmatter} /></div>
  </Home>
</BaseLayout>
